<h1>killable</h1>

<p>Keeps track of a server’s open sockets so they can be destroyed at a
moment’s notice. This way, the server connection can be killed very
fast.</p>

<h2>Installation</h2>

<p><code>
npm install killable
</code></p>

<h2>Example usage</h2>

<p>Using express:
(‘server’ in the example is just an <code>http.server</code>, so other frameworks
or pure Node should work just as well.)</p>

<p>```javascript
var killable = require(‘killable’);</p>

<p>var app = require(‘express’)();
var server;</p>

<p>app.route(‘/’, function (req, res, next) {
  res.send(‘Server is going down NOW!’);</p>

<p>server.kill(function () {
    //the server is down when this is called. That won’t take long.
  });
});</p>

<p>var server = app.listen(8080);
killable(server);
```</p>

<h2>API</h2>

<p>The <code>killable</code> module is callable. When you call it on a Node
<code>http.Server</code> object, it will add a <code>server.kill()</code> method on it. It
returns the server object.</p>

<p><code>server.kill([callback])</code> closes all open sockets and calls
<code>server.close()</code>, to which the <code>callback</code> is passed on.</p>

<p>Inspired by: http://stackoverflow.com/a/14636625</p>