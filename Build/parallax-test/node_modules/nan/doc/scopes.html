<h2>Scopes</h2>

<p>A <em>local handle</em> is a pointer to an object. All V8 objects are accessed using handles, they are necessary because of the way the V8 garbage collector works.</p>

<p>A handle scope can be thought of as a container for any number of handles. When youâ€™ve finished with your handles, instead of deleting each one individually you can simply delete their scope.</p>

<p>The creation of <code>HandleScope</code> objects is different across the supported versions of V8. Therefore, NAN provides its own implementations that can be used safely across these.</p>

<ul>
  <li><a href="#api_nan_handle_scope"><b><code>Nan::HandleScope</code></b></a></li>
  <li><a href="#api_nan_escapable_handle_scope"><b><code>Nan::EscapableHandleScope</code></b></a></li>
</ul>

<p>Also see the V8 Embedders Guide section on <a href="https://github.com/v8/v8/wiki/Embedder%27s%20Guide#handles-and-garbage-collection">Handles and Garbage Collection</a>.</p>

<p><a name="api_nan_handle_scope"></a>
### Nan::HandleScope</p>

<p>A simple wrapper around <a href="https://v8docs.nodesource.com/io.js-3.3/d3/d95/classv8_1_1_handle_scope.html"><code>v8::HandleScope</code></a>.</p>

<p>Definition:</p>

<p><code>c++
class Nan::HandleScope {
 public:
  Nan::HandleScope();
  static int NumberOfHandles();
};
</code></p>

<p>Allocate a new <code>Nan::HandleScope</code> whenever you are creating new V8 JavaScript objects. Note that an implicit <code>HandleScope</code> is created for you on JavaScript-accessible methods so you do not need to insert one yourself.</p>

<p>Example:</p>

<p>```c++
// new object is created, it needs a new scope:
void Pointless() {
  Nan::HandleScope scope;
  v8::Local<v8::object> obj = Nan::New<v8::object>();
}</v8::object></v8::object></p>

<p>// JavaScript-accessible method already has a HandleScope
NAN_METHOD(Pointless2) {
  v8::Local<v8::object> obj = Nan::New<v8::object>();
}
```</v8::object></v8::object></p>

<p><a name="api_nan_escapable_handle_scope"></a>
### Nan::EscapableHandleScope</p>

<p>Similar to <a href="#api_nan_handle_scope"><code>Nan::HandleScope</code></a> but should be used in cases where a function needs to return a V8 JavaScript type that has been created within it.</p>

<p>Definition:</p>

<p><code>c++
class Nan::EscapableHandleScope {
 public:
  Nan::EscapableHandleScope();
  static int NumberOfHandles();
  template<typename T> v8::Local<T> Escape(v8::Local<T> value);
}
</code></p>

<p>Use <code>Escape(value)</code> to return the object.</p>

<p>Example:</p>

<p><code>c++
v8::Local<v8::Object> EmptyObj() {
  Nan::EscapableHandleScope scope;
  v8::Local<v8::Object> obj = Nan::New<v8::Object>();
  return scope.Escape(obj);
}
</code></p>