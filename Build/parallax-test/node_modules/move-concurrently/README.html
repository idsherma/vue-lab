<h1>move-concurrently</h1>

<p>Move files and directories.</p>

<p><code>
const move = require('move-concurrently')
move('/path/to/thing', '/new/path/thing').then(() => {
  // thing is now moved!
}).catch(err => {
  // oh no!
})
</code></p>

<p>Uses <code>rename</code> to move things as fast as possible.</p>

<p>If you <code>move</code> across devices or on filesystems that don’t support renaming
large directories.  That is, situations that result in <code>rename</code> returning
the <code>EXDEV</code> error, then <code>move</code> will fallback to copy + delete.</p>

<p>When recursively copying directories it will first try to rename the
contents before falling back to copying.  While this will be slightly slower
in true cross-device scenarios, it is MUCH faster in cases where the
filesystem can’t handle directory renames.</p>

<p>When copying ownership is maintained when running as root.  Permissions are
always maintained.  On Windows, if symlinks are unavailable then junctions
will be used.</p>

<h2>INTERFACE</h2>

<h3>move(from, to, options) → Promise</h3>

<p>Recursively moves <code>from</code> to <code>to</code> and resolves its promise when finished.
If <code>to</code> already exists then the promise will be rejected with an <code>EEXIST</code>
error.</p>

<p>Starts by trying to rename <code>from</code> to <code>to</code>.</p>

<p>Options are:</p>

<ul>
  <li>maxConcurrency – (Default: <code>1</code>) The maximum number of concurrent copies to do at once.</li>
  <li>isWindows - (Default: <code>process.platform === 'win32'</code>) If true enables Windows symlink semantics. This requires
an extra <code>stat</code> to determine if the destination of a symlink is a file or directory. If symlinking a directory
fails then we’ll try making a junction instead.</li>
</ul>

<p>Options can also include dependency injection:</p>

<ul>
  <li>Promise - (Default: <code>global.Promise</code>) The promise implementation to use, defaults to Node’s.</li>
  <li>fs - (Default: <code>require('fs')</code>) The filesystem module to use.  Can be used
to use <code>graceful-fs</code> or to inject a mock.</li>
  <li>writeStreamAtomic - (Default: <code>require('fs-write-stream-atomic')</code>) The
implementation of <code>writeStreamAtomic</code> to use.  Used to inject a mock.</li>
  <li>getuid - (Default: <code>process.getuid</code>) A function that returns the current UID. Used to inject a mock.</li>
</ul>