<p><a href="https://travis-ci.org/css-modules/icss-utils"><img src="https://travis-ci.org/css-modules/icss-utils.svg" alt="Build Status" /></a></p>

<h1>ICSS Utils</h1>

<h2>replaceSymbols</h2>

<p>Governs the way tokens are searched & replaced during the linking stage of ICSS loading.</p>

<p>This is broken into its own module in case the behaviour needs to be replicated in other PostCSS plugins
(i.e. <a href="https://github.com/css-modules/postcss-modules-values">CSS Modules Values</a>)</p>

<p><code>js
import { replaceSymbols, replaceValueSymbols } from "icss-utils"
replaceSymbols(css, replacements)
replaceValueSymbols(string, replacements)
</code></p>

<p>Where:</p>

<ul>
  <li><code>css</code> is the PostCSS tree you’re working with</li>
  <li><code>replacements</code> is an JS object of <code>symbol: "replacement"</code> pairs, where all occurrences of <code>symbol</code> are replaced with <code>replacement</code>.</li>
</ul>

<p>A symbol is a string of alphanumeric, <code>-</code> or <code>_</code> characters. A replacement can be any string. They are replaced in the following places:</p>

<ul>
  <li>In the value of a declaration, i.e. <code>color: my_symbol;</code> or <code>box-shadow: 0 0 blur spread shadow-color</code></li>
  <li>In a media expression i.e. <code>@media small {}</code> or <code>@media screen and not-large {}</code></li>
</ul>

<h2>extractICSS(css, removeRules = true)</h2>

<p>Extracts and remove (if removeRules is equal true) from PostCSS tree <code>:import</code> and <code>:export</code> statements.</p>

<p>```js
import postcss from ‘postcss’;
import { extractICSS } from ‘icss-utils’</p>

<p>const css = postcss.parse(<code>
  :import(colors) {
    a: b;
  }
  :export {
    c: d;
  }
</code>)</p>

<p>extractICSS(css)
/*
  {
    icssImports: {
      colors: {
        a: ‘b’
      }
    },
    icssExports: {
      c: ‘d’
    }
  }
*/
```</p>

<h2>createICSSRules(icssImports, icssExports)</h2>

<p>Converts icss imports and exports definitions to postcss ast</p>

<p><code>js
createICSSRules({
  colors: {
    a: 'b'
  }
}, {
  c: 'd'
})
</code></p>

<h2>License</h2>

<p>ISC</p>

<hr />
<p>Glen Maddern and Bogdan Chadkin, 2015.</p>