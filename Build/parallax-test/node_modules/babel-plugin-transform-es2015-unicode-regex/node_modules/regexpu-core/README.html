<h1>regexpu-core <a href="https://travis-ci.org/mathiasbynens/regexpu-core"><img src="https://travis-ci.org/mathiasbynens/regexpu-core.svg?branch=master" alt="Build status" /></a> <a href="https://coveralls.io/r/mathiasbynens/regexpu-core"><img src="http://img.shields.io/coveralls/mathiasbynens/regexpu-core/master.svg" alt="Code coverage status" /></a> <a href="https://gemnasium.com/mathiasbynens/regexpu-core"><img src="https://gemnasium.com/mathiasbynens/regexpu-core.svg" alt="Dependency status" /></a></h1>

<p><em>regexpu</em> is a source code transpiler that enables the use of ES6 Unicode regular expressions in JavaScript-of-today (ES5).</p>

<p><em>regexpu-core</em> contains <em>regexpu</em>’s core functionality, i.e. <code>rewritePattern(pattern, flag)</code>, which enables rewriting regular expressions that make use of <a href="https://mathiasbynens.be/notes/es6-unicode-regex">the ES6 <code>u</code> flag</a> into equivalent ES5-compatible regular expression patterns.</p>

<h2>Installation</h2>

<p>To use <em>regexpu-core</em> programmatically, install it as a dependency via <a href="https://www.npmjs.com/">npm</a>:</p>

<p><code>bash
npm install regexpu-core --save-dev
</code></p>

<p>Then, <code>require</code> it:</p>

<p><code>js
const rewritePattern = require('regexpu-core');
</code></p>

<h2>API</h2>

<p>This module exports a single function named <code>rewritePattern</code>.</p>

<h3><code>rewritePattern(pattern, flags)</code></h3>

<p>This function takes a string that represents a regular expression pattern as well as a string representing its flags, and returns an ES5-compatible version of the pattern.</p>

<p>```js
rewritePattern(‘foo.bar’, ‘u’);
// → ‘foo(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF])bar’</p>

<p>rewritePattern(‘[\u{1D306}-\u{1D308}a-z]’, ‘u’);
// → ‘(?:[a-z]|\uD834[\uDF06-\uDF08])’</p>

<p>rewritePattern(‘[\u{1D306}-\u{1D308}a-z]’, ‘ui’);
// → ‘(?:[a-z\u017F\u212A]|\uD834[\uDF06-\uDF08])’
```</p>

<p><em>regexpu-core</em> can rewrite non-ES6 regular expressions too, which is useful to demonstrate how their behavior changes once the <code>u</code> and <code>i</code> flags are added:</p>

<p>```js
// In ES5, the dot operator only matches BMP symbols:
rewritePattern(‘foo.bar’);
// → ‘foo(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uFFFF])bar’</p>

<p>// But with the ES6 <code>u</code> flag, it matches astral symbols too:
rewritePattern(‘foo.bar’, ‘u’);
// → ‘foo(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF])bar’
```</p>

<p><code>rewritePattern</code> uses <a href="https://github.com/d10/regjsgen">regjsgen</a>, <a href="https://github.com/jviereck/regjsparser">regjsparser</a>, and <a href="https://github.com/mathiasbynens/regenerate">regenerate</a> as internal dependencies.</p>

<h2>Author</h2>

<table>
  <thead>
    <tr>
      <th><a href="https://twitter.com/mathias" title="Follow @mathias on Twitter"><img src="https://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70" alt="twitter/mathias" /></a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://mathiasbynens.be/">Mathias Bynens</a></td>
    </tr>
  </tbody>
</table>

<h2>License</h2>

<p><em>regexpu-core</em> is available under the <a href="https://mths.be/mit">MIT</a> license.</p>