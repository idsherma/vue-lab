<h1>Friendly-errors-webpack-plugin</h1>

<p><a href="https://www.npmjs.com/package/friendly-errors-webpack-plugin"><img src="https://img.shields.io/npm/v/friendly-errors-webpack-plugin.svg" alt="npm" /></a>
<a href="https://travis-ci.org/geowarin/friendly-errors-webpack-plugin"><img src="https://travis-ci.org/geowarin/friendly-errors-webpack-plugin.svg?branch=master" alt="Build Status" /></a>
<a href="https://ci.appveyor.com/project/geowarin/friendly-errors-webpack-plugin/branch/master"><img src="https://ci.appveyor.com/api/projects/status/w6fovc9lttaqgx3k/branch/master?svg=true" alt="Build status" /></a></p>

<p>Friendly-errors-webpack-plugin recognizes certain classes of webpack
errors and cleans, aggregates and prioritizes them to provide a better
Developer Experience.</p>

<p>It is easy to add types of errors so if you would like to see more
errors get handled, please open a <a href="https://help.github.com/articles/creating-a-pull-request/">PR</a>!</p>

<h2>Getting started</h2>

<h3>Installation</h3>

<p><code>bash
npm install friendly-errors-webpack-plugin --save-dev
</code></p>

<h3>Basic usage</h3>

<p>Simply add <code>FriendlyErrorsWebpackPlugin</code> to the plugin section in your Webpack config.</p>

<p>```javascript
var FriendlyErrorsWebpackPlugin = require(‘friendly-errors-webpack-plugin’);</p>

<p>var webpackConfig = {
  // …
  plugins: [
    new FriendlyErrorsWebpackPlugin(),
  ],
  // …
}
```</p>

<h3>Turn off errors</h3>

<p>You need to turn off all error logging by setting your webpack config quiet option to true.</p>

<p><code>javascript
app.use(require('webpack-dev-middleware')(compiler, {
  quiet: true,
  publicPath: config.output.publicPath,
}));
</code></p>

<p>If you use the webpack-dev-server, there is a setting in webpack’s <code>devServer</code> options:</p>

<p><code>javascript
// webpack config root
{
  // ...
  devServer: {
    // ...
    quiet: true,
    // ...
  },
  // ...
}
</code></p>

<p>If you use webpack-hot-middleware, that is done by setting the log option to a no-op. You can do something sort of like this, depending upon your setup:</p>

<p><code>javascript
app.use(require('webpack-hot-middleware')(compiler, {
  log: () => {}
}));
</code></p>

<p><em>Thanks to <a href="https://github.com/FormidableLabs/webpack-dashboard">webpack-dashboard</a> for this piece of info.</em></p>

<h2>Demo</h2>

<h3>Build success</h3>

<p><img src="http://i.imgur.com/MkUEhYz.gif" alt="success" /></p>

<h3>eslint-loader errors</h3>

<p><img src="http://i.imgur.com/xYRkldr.gif" alt="lint" /></p>

<h3>babel-loader syntax errors</h3>

<p><img src="http://i.imgur.com/W59z8WF.gif" alt="babel" /></p>

<h3>Module not found</h3>

<p><img src="http://i.imgur.com/OivW4As.gif" alt="babel" /></p>

<h2>Options</h2>

<p>You can pass options to the plugin:</p>

<p>```js
new FriendlyErrorsPlugin({
  compilationSuccessInfo: {
    messages: [‘You application is running here http://localhost:3000’],
    notes: [‘Some additionnal notes to be displayed unpon successful compilation’]
  },
  onErrors: function (severity, errors) {
    // You can listen to errors transformed and prioritized by the plugin
    // severity can be ‘error’ or ‘warning’
  },
  // should the console be cleared between each compilation?
  // default is true
  clearConsole: true,</p>

<p>// add formatters and transformers (see below)
  additionalFormatters: [],
  additionalTransformers: []
})
```</p>

<h2>Adding desktop notifications</h2>

<p>The plugin has no native support for desktop notifications but it is easy
to add them thanks to <a href="https://www.npmjs.com/package/node-notifier">node-notifier</a> for instance.</p>

<p>```js
var NotifierPlugin = require(‘friendly-errors-webpack-plugin’);
var notifier = require(‘node-notifier’);
var ICON = path.join(__dirname, ‘icon.png’);</p>

<p>new NotifierPlugin({
    onErrors: (severity, errors) => {
      if (severity !== ‘error’) {
        return;
      }
      const error = errors[0];
      notifier.notify({
        title: context.pkg.name,
        message: severity + ‘: ‘ + error.name,
        subtitle: error.file || ‘’,
        icon: ICON
      });
    }
  })
]
```</p>

<h2>API</h2>

<h3>Transformers and formatters</h3>

<p>Webpack’s errors processing, is done in four phases:</p>

<ol>
  <li>Extract relevant info from webpack errors. This is done by the plugin <a href="https://github.com/geowarin/friendly-errors-webpack-plugin/blob/master/src/core/extractWebpackError.js">here</a></li>
  <li>Apply transformers to all errors to identify and annotate well know errors and give them a priority</li>
  <li>Get only top priority error or top priority warnings if no errors are thrown</li>
  <li>Apply formatters to all annotated errors</li>
</ol>

<p>You can add transformers and formatters. Please see <a href="https://github.com/geowarin/friendly-errors-webpack-plugin/blob/master/src/core/transformErrors.js">transformErrors</a>,
and <a href="https://github.com/geowarin/friendly-errors-webpack-plugin/blob/master/src/core/formatErrors.js">formatErrors</a>
in the source code and take a look a the <a href="https://github.com/geowarin/friendly-errors-webpack-plugin/tree/master/src/transformers">default transformers</a>
and the <a href="https://github.com/geowarin/friendly-errors-webpack-plugin/tree/master/src/formatters">default formatters</a>.</p>

<h2>TODO</h2>

<ul>
  <li>[x] Make it compatible with node 4</li>
  <li>[ ] Write tests using webpack 1</li>
</ul>