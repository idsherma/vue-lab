<p>[![npm][npm]][npm-url]
[![node][node]][node-url]
[![deps][deps]][deps-url]
[![test][test]][test-url]
[![coverage][cover]][cover-url]
[![chat][chat]][chat-url]</p>

<div align="center">
  <a href="https://github.com/webpack/webpack">
    <img width="200" height="200" src="https://webpack.js.org/assets/icon-square-big.svg" />
  </a>
  <h1>Copy Webpack Plugin</h1>
  <p>Copies individual files or entire directories to the build directory.</p>
</div>

<h2 align="center">Install</h2>

<p><code>
npm install --save-dev copy-webpack-plugin
</code></p>

<h2 align="center">Usage</h2>

<p><code>new CopyWebpackPlugin([patterns], options)</code></p>

<p>A pattern looks like:
<code>{ from: 'source', to: 'dest' }</code></p>

<p>Or, in the simple case of just a <code>from</code> with the default destination, you can use a string primitive instead of an object:
<code>'source'</code></p>

<h4>Pattern properties:</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Required</th>
      <th>Default</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>from</code></td>
      <td>Y</td>
      <td> </td>
      <td><em>examples:</em><br />‘relative/file.txt’<br />‘/absolute/file.txt’<br />‘relative/dir’<br />‘/absolute/dir’<br />’**/*‘<br />{glob:’**/*’, dot: true}<br /><br />Globs accept <a href="https://github.com/isaacs/minimatch">minimatch options</a></td>
    </tr>
    <tr>
      <td><code>to</code></td>
      <td>N</td>
      <td>output root if <code>from</code> is file or dir<br /><br />resolved glob path if <code>from</code> is glob</td>
      <td><em>examples:</em><br />‘relative/file.txt’<br />‘/absolute/file.txt’<br />‘relative/dir’<br />‘/absolute/dir’<br />‘relative/[name].[ext]’<br />‘/absolute/[name].[ext]’<br /><br />Templates are <a href="https://github.com/webpack/file-loader">file-loader patterns</a></td>
    </tr>
    <tr>
      <td><code>toType</code></td>
      <td>N</td>
      <td><strong>‘file’</strong> if <code>to</code> has extension or <code>from</code> is file<br /><br /><strong>‘dir’</strong> if <code>from</code> is directory, <code>to</code> has no extension or ends in ‘/’<br /><br /><strong>‘template’</strong> if <code>to</code> contains <a href="https://github.com/webpack/file-loader">a template pattern</a></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>context</code></td>
      <td>N</td>
      <td>options.context || compiler.options.context</td>
      <td>A path that determines how to interpret the <code>from</code> path</td>
    </tr>
    <tr>
      <td><code>flatten</code></td>
      <td>N</td>
      <td>false</td>
      <td>Removes all directory references and only copies file names<br /><br />If files have the same name, the result is non-deterministic</td>
    </tr>
    <tr>
      <td><code>ignore</code></td>
      <td>N</td>
      <td>[]</td>
      <td>Additional globs to ignore for this pattern</td>
    </tr>
    <tr>
      <td><code>transform</code></td>
      <td>N</td>
      <td>function(content, path) {<br />  return content;<br />}</td>
      <td>Function that modifies file contents before writing to webpack</td>
    </tr>
    <tr>
      <td><code>force</code></td>
      <td>N</td>
      <td>false</td>
      <td>Overwrites files already in compilation.assets (usually added by other plugins)</td>
    </tr>
    <tr>
      <td><code>cache</code></td>
      <td>N</td>
      <td>false</td>
      <td>Enable <code>transform</code> caching. You can use <code>{ cache: { key: 'my-cache-key'} }</code> to invalidate cache.</td>
    </tr>
  </tbody>
</table>

<h4>Available options:</h4>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Default</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>context</code></td>
      <td>compiler.options.context</td>
      <td>A path that determines how to interpret the <code>from</code> path, shared for all patterns</td>
    </tr>
    <tr>
      <td><code>ignore</code></td>
      <td>[]</td>
      <td>Array of globs to ignore (applied to <code>from</code>)</td>
    </tr>
    <tr>
      <td><code>copyUnmodified</code></td>
      <td>false</td>
      <td>Copies files, regardless of modification when using watch or webpack-dev-server. All files are copied on first build, regardless of this option.</td>
    </tr>
    <tr>
      <td><code>debug</code></td>
      <td><strong>‘warning’</strong></td>
      <td><em>options:</em><br /><strong>‘warning’</strong> - only warnings<br /><strong>‘info’</strong> or true - file location and read info<br /><strong>‘debug’</strong> - very detailed debugging info</td>
    </tr>
  </tbody>
</table>

<h3>Examples</h3>

<p>```javascript
const CopyWebpackPlugin = require(‘copy-webpack-plugin’);
const path = require(‘path’);</p>

<p>module.exports = {
    context: path.join(__dirname, ‘app’),
    devServer: {
        // This is required for older versions of webpack-dev-server
        // if you use absolute ‘to’ paths. The path should be an
        // absolute path to your build destination.
        outputPath: path.join(__dirname, ‘build’)
    },
    plugins: [
        new CopyWebpackPlugin([
            // {output}/file.txt
            { from: ‘from/file.txt’ },</p>

<pre><code>        // equivalent
        'from/file.txt',

        // {output}/to/file.txt
        { from: 'from/file.txt', to: 'to/file.txt' },
        
        // {output}/to/directory/file.txt
        { from: 'from/file.txt', to: 'to/directory' },

        // Copy directory contents to {output}/
        { from: 'from/directory' },
        
        // Copy directory contents to {output}/to/directory/
        { from: 'from/directory', to: 'to/directory' },
        
        // Copy glob results to /absolute/path/
        { from: 'from/directory/**/*', to: '/absolute/path' },

        // Copy glob results (with dot files) to /absolute/path/
        {
            from: {
                glob:'from/directory/**/*',
                dot: true
            },
            to: '/absolute/path'
        },

        // Copy glob results, relative to context
        {
            context: 'from/directory',
            from: '**/*',
            to: '/absolute/path'
        },
        
        // {output}/file/without/extension
        {
            from: 'path/to/file.txt',
            to: 'file/without/extension',
            toType: 'file'
        },
        
        // {output}/directory/with/extension.ext/file.txt
        {
            from: 'path/to/file.txt',
            to: 'directory/with/extension.ext',
            toType: 'dir'
        },
        
        // Ignore some files using glob in nested directory
        {
            from: 'from/directory',
            to: 'to/directory',
            ignore: ['nested/**/*.extension']
        }
    ], {
        ignore: [
            // Doesn't copy any files with a txt extension    
            '*.txt',
            
            // Doesn't copy any file, even if they start with a dot
            '**/*',

            // Doesn't copy any file, except if they start with a dot
            { glob: '**/*', dot: false }
        ],

        // By default, we only copy modified files during
        // a watch or webpack-dev-server build. Setting this
        // to `true` copies all files.
        copyUnmodified: true
    })
] }; ```
</code></pre>

<h3>FAQ</h3>

<h4>“EMFILE: too many open files” or “ENFILE: file table overflow”</h4>

<p>Globally patch fs with <a href="https://www.npmjs.com/package/graceful-fs">graceful-fs</a></p>

<p><code>npm install graceful-fs --save-dev</code></p>

<p>At the top of your webpack config, insert this</p>

<pre><code>const fs = require('fs');
const gracefulFs = require('graceful-fs');
gracefulFs.gracefulify(fs);
</code></pre>

<p>See <a href="https://github.com/kevlened/copy-webpack-plugin/issues/59#issuecomment-228563990">this issue</a> for more details</p>

<h4>This doesn’t copy my files with webpack-dev-server</h4>

<p>Starting in version <a href="https://github.com/kevlened/copy-webpack-plugin/blob/master/CHANGELOG.md#300-may-14-2016">3.0.0</a>, we stopped using fs to copy files to the filesystem and started depending on webpack’s <a href="https://webpack.github.io/docs/webpack-dev-server.html#content-base">in-memory filesystem</a>:</p>

<blockquote>
  <p>… webpack-dev-server will serve the static files in your build folder. It’ll watch your source files for changes and when changes are made the bundle will be recompiled. <strong>This modified bundle is served from memory at the relative path specified in publicPath (see API)</strong>. It will not be written to your configured output directory.</p>
</blockquote>

<p>If you must have webpack-dev-server write to your output directory, you can force it with the <a href="https://github.com/gajus/write-file-webpack-plugin">write-file-webpack-plugin</a>.</p>

<h2 align="center">Maintainers</h2>

<table>
  <tbody>
    <tr>
      <td align="center">
        <a href="https://github.com/bebraw">
          <img width="150" height="150" src="https://github.com/bebraw.png?v=3&s=150" />
          
          Juho Vepsäläinen
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/d3viant0ne">
          <img width="150" height="150" src="https://github.com/d3viant0ne.png?v=3&s=150" />
          
          Joshua Wiens
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/michael-ciniawsky">
          <img width="150" height="150" src="https://github.com/michael-ciniawsky.png?v=3&s=150" />
          
          Michael Ciniawsky
        </a>
      </td>
      <td align="center">
        <a href="https://github.com/evilebottnawi">
          <img width="150" height="150" src="https://github.com/evilebottnawi.png?v=3&s=150" />
          
          Alexander Krasnoyarov
        </a>
      </td>
    </tr>
  <tbody>



[npm]: https://img.shields.io/npm/v/copy-webpack-plugin.svg
[npm-url]: https://npmjs.com/package/copy-webpack-plugin

[node]: https://img.shields.io/node/v/copy-webpack-plugin.svg
[node-url]: https://nodejs.org

[deps]: https://david-dm.org/webpack-contrib/copy-webpack-plugin.svg
[deps-url]: https://david-dm.org/webpack-contrib/copy-webpack-plugin

[test]: https://secure.travis-ci.org/webpack-contrib/copy-webpack-plugin.svg
[test-url]: http://travis-ci.org/webpack-contrib/copy-webpack-plugin

[cover]: https://codecov.io/gh/webpack-contrib/copy-webpack-plugin/branch/master/graph/badge.svg
[cover-url]: https://codecov.io/gh/webpack-contrib/copy-webpack-plugin

[chat]: https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg
[chat-url]: https://gitter.im/webpack/webpack
</tbody></tbody></table>