<h1>fast-json-stable-stringify</h1>

<p>Deterministic <code>JSON.stringify()</code> - a faster version of <a href="https://github.com/substack">@substack</a>’s json-stable-strigify without <a href="https://github.com/substack/jsonify">jsonify</a>.</p>

<p>You can also pass in a custom comparison function.</p>

<p><a href="https://travis-ci.org/epoberezkin/fast-json-stable-stringify"><img src="https://travis-ci.org/epoberezkin/fast-json-stable-stringify.svg?branch=master" alt="Build Status" /></a>
<a href="https://coveralls.io/github/epoberezkin/fast-json-stable-stringify?branch=master"><img src="https://coveralls.io/repos/github/epoberezkin/fast-json-stable-stringify/badge.svg?branch=master" alt="Coverage Status" /></a></p>

<h1>example</h1>

<p><code>js
var stringify = require('fast-json-stable-stringify');
var obj = { c: 8, b: [{z:6,y:5,x:4},7], a: 3 };
console.log(stringify(obj));
</code></p>

<p>output:</p>

<p><code>
{"a":3,"b":[{"x":4,"y":5,"z":6},7],"c":8}
</code></p>

<h1>methods</h1>

<p><code>js
var stringify = require('fast-json-stable-stringify')
</code></p>

<h2>var str = stringify(obj, opts)</h2>

<p>Return a deterministic stringified string <code>str</code> from the object <code>obj</code>.</p>

<h2>options</h2>

<h3>cmp</h3>

<p>If <code>opts</code> is given, you can supply an <code>opts.cmp</code> to have a custom comparison
function for object keys. Your function <code>opts.cmp</code> is called with these
parameters:</p>

<p><code>js
opts.cmp({ key: akey, value: avalue }, { key: bkey, value: bvalue })
</code></p>

<p>For example, to sort on the object key names in reverse order you could write:</p>

<p>``` js
var stringify = require(‘fast-json-stable-stringify’);</p>

<p>var obj = { c: 8, b: [{z:6,y:5,x:4},7], a: 3 };
var s = stringify(obj, function (a, b) {
    return a.key < b.key ? 1 : -1;
});
console.log(s);
```</p>

<p>which results in the output string:</p>

<p><code>
{"c":8,"b":[{"z":6,"y":5,"x":4},7],"a":3}
</code></p>

<p>Or if you wanted to sort on the object values in reverse order, you could write:</p>

<p>```
var stringify = require(‘fast-json-stable-stringify’);</p>

<p>var obj = { d: 6, c: 5, b: [{z:3,y:2,x:1},9], a: 10 };
var s = stringify(obj, function (a, b) {
    return a.value < b.value ? 1 : -1;
});
console.log(s);
```</p>

<p>which outputs:</p>

<p><code>
{"d":6,"c":5,"b":[{"z":3,"y":2,"x":1},9],"a":10}
</code></p>

<h3>cycles</h3>

<p>Pass <code>true</code> in <code>opts.cycles</code> to stringify circular property as <code>__cycle__</code> - the result will not be a valid JSON string in this case.</p>

<p>TypeError will be thrown in case of circular object without this option.</p>

<h1>install</h1>

<p>With <a href="https://npmjs.org">npm</a> do:</p>

<p><code>
npm install fast-json-stable-stringify
</code></p>

<h1>benchmark</h1>

<p>To run benchmark (requires Node.js 6+):
<code>
node benchmark
</code></p>

<p>Results:
<code>
fast-json-stable-stringify x 17,189 ops/sec ±1.43% (83 runs sampled)
json-stable-stringify x 13,634 ops/sec ±1.39% (85 runs sampled)
fast-stable-stringify x 20,212 ops/sec ±1.20% (84 runs sampled)
faster-stable-stringify x 15,549 ops/sec ±1.12% (84 runs sampled)
The fastest is fast-stable-stringify
</code></p>

<h1>license</h1>

<p><a href="https://github.com/epoberezkin/fast-json-stable-stringify/blob/master/LICENSE">MIT</a></p>