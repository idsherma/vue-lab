<h1>Inquirer.js</h1>

<p><a href="http://badge.fury.io/js/inquirer"><img src="https://badge.fury.io/js/inquirer.svg" alt="npm" /></a> <a href="http://travis-ci.org/SBoudrias/Inquirer.js"><img src="https://travis-ci.org/SBoudrias/Inquirer.js.svg?branch=master" alt="tests" /></a> <a href="https://david-dm.org/SBoudrias/Inquirer.js"><img src="https://david-dm.org/SBoudrias/Inquirer.js.svg?theme=shields.io" alt="dependencies" /></a></p>

<p>A collection of common interactive command line user interfaces.</p>

<h2>Goal and Philosophy</h2>

<p><img align="right" alt="Inquirer Logo" src="/assets/inquirer_readme.png" title="Inquirer.js" /></p>

<p><strong><code>Inquirer.js</code></strong> strives to be an easily embeddable and beautiful command line interface for <a href="https://nodejs.org/">Node.js</a> (and perhaps the “CLI <a href="https://en.wikipedia.org/wiki/Xanadu_(Citizen_Kane)">Xanadu</a>”).</p>

<p><strong><code>Inquirer.js</code></strong> should ease the process of
- providing <em>error feedback</em>
- <em>asking questions</em>
- <em>parsing</em> input
- <em>validating</em> answers
- managing <em>hierarchical prompts</em></p>

<blockquote>
  <p><strong>Note:</strong> <strong><code>Inquirer.js</code></strong> provides the user interface, and the inquiry session flow. If you’re searching for a full blown command line program utility, then check out <a href="https://github.com/visionmedia/commander.js">Commander.js</a> or <a href="https://github.com/dthree/vorpal">Vorpal.js</a>.</p>
</blockquote>

<h2>Documentation</h2>

<h3>Installation</h3>

<p><code>shell
npm install inquirer
</code></p>

<p><code>javascript
var inquirer = require("inquirer");
inquirer.prompt([/* Pass your questions in here */], function( answers ) {
	// Use user feedback for... whatever!!
});
</code></p>

<h3>Examples (Run it and see it)</h3>
<p>Checkout the <code>examples/</code> folder for code and interface examples.</p>

<p><code>shell
node examples/pizza.js
node examples/checkbox.js
# etc...
</code></p>

<h3>Methods</h3>

<p><code>inquirer.prompt( questions, callback )</code></p>

<p>Launch the prompt interface (inquiry session)</p>

<ul>
  <li><strong>questions</strong> (Array) containing <a href="#question">Question Object</a> (using the <a href="#reactive-interface">reactive interface</a>, you can also pass a <code>Rx.Observable</code> instance)</li>
  <li><strong>callback</strong> (Function) first parameter is the <a href="#answers">Answers Object</a></li>
</ul>

<h3>Objects</h3>

<h4>Question</h4>
<p>A question object is a <code>hash</code> containing question related values:</p>

<ul>
  <li><strong>type</strong>: (String) Type of the prompt. Defaults: <code>input</code> - Possible values: <code>input</code>, <code>confirm</code>,
<code>list</code>, <code>rawlist</code>, <code>password</code></li>
  <li><strong>name</strong>: (String) The name to use when storing the answer in the answers hash.</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><strong>message</strong>: (String</td>
          <td>Function) The question to print. If defined as a function, the first parameter will be the current inquirer session answers.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><strong>default</strong>: (String</td>
          <td>Number</td>
          <td>Array</td>
          <td>Function) Default value(s) to use if nothing is entered, or a function that returns the default value(s). If defined as a function, the first parameter will be the current inquirer session answers.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><strong>choices</strong>: (Array|Function) Choices array or a function returning a choices array. If defined as a function, the first parameter will be the current inquirer session answers.
Array values can be simple <code>strings</code>, or <code>objects</code> containing a <code>name</code> (to display in list), a <code>value</code> (to save in the answers hash) and a <code>short</code> (to display after selection) properties. The choices array can also contain <a href="#separator">a <code>Separator</code></a>.</li>
  <li><strong>validate</strong>: (Function) Receive the user input and should return <code>true</code> if the value is valid, and an error message (<code>String</code>) otherwise. If <code>false</code> is returned, a default error message is provided.</li>
  <li><strong>filter</strong>: (Function) Receive the user input and return the filtered value to be used inside the program. The value returned will be added to the <em>Answers</em> hash.</li>
  <li><strong>when</strong>: (Function, Boolean) Receive the current user answers hash and should return <code>true</code> or <code>false</code> depending on whether or not this question should be asked. The value can also be a simple boolean.</li>
</ul>

<p><code>default</code>, <code>choices</code>(if defined as functions), <code>validate</code>, <code>filter</code> and <code>when</code> functions can be called asynchronously using <code>this.async()</code>. You just have to pass the value you’d normally return to the callback option.</p>

<p>``` javascript
{
  validate: function(input) {</p>

<pre><code>// Declare function as asynchronous, and save the done callback
var done = this.async();

// Do async stuff
setTimeout(function() {
  if (typeof input !== "number") {
    // Pass the return value in the done callback
    done("You need to provide a number");
    return;
  }
  // Pass the return value in the done callback
  done(true);
}, 3000);   } } ```
</code></pre>

<h3>Answers</h3>
<p>A key/value hash containing the client answers in each prompt.</p>

<ul>
  <li><strong>Key</strong> The <code>name</code> property of the <em>question</em> object</li>
  <li><strong>Value</strong> (Depends on the prompt)
    <ul>
      <li><code>confirm</code>: (Boolean)</li>
      <li><code>input</code> : User input (filtered if <code>filter</code> is defined) (String)</li>
      <li><code>rawlist</code>, <code>list</code> : Selected choice value (or name if no value specified) (String)</li>
    </ul>
  </li>
</ul>

<h3>Separator</h3>
<p>A separator can be added to any <code>choices</code> array:</p>

<p>```
// In the question object
choices: [ “Choice A”, new inquirer.Separator(), “choice B” ]</p>

<p>// Which’ll be displayed this way
[?] What do you want to do?
 > Order a pizza
   Make a reservation
   ——–
   Ask opening hours
   Talk to the receptionist
```</p>

<p>The constructor takes a facultative <code>String</code> value that’ll be use as the separator. If omitted, the separator will be <code>--------</code>.</p>

<p>Separator instances have a property <code>type</code> equal to <code>separator</code>. This should allow tools façading Inquirer interface from detecting separator types in lists.</p>

<h2>Prompts type</h2>

<blockquote>
  <p><strong>Note:</strong>: <em>allowed options written inside square brackets (<code>[]</code>) are optional. Others are required.</em></p>
</blockquote>

<h4>List - <code>{ type: "list" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>, <code>choices</code>[, <code>default</code>, <code>filter</code>] properties. (Note that
default must be the choice <code>index</code> in the array or a choice <code>value</code>)</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/list-prompt.png" alt="List prompt" /></p>

<hr />

<h4>Raw List - <code>{ type: "rawlist" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>, <code>choices</code>[, <code>default</code>, <code>filter</code>] properties. (Note that
default must the choice <code>index</code> in the array)</p>

<p><img src="https://i.cloudup.com/LcRGpXI0CX-3000x3000.png" alt="Raw list prompt" /></p>

<hr />

<h4>Expand - <code>{ type: "expand" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>, <code>choices</code>[, <code>default</code>, <code>filter</code>] properties. (Note that
default must be the choice <code>index</code> in the array)</p>

<p>Note that the <code>choices</code> object will take an extra parameter called <code>key</code> for the <code>expand</code> prompt. This parameter must be a single (lowercased) character. The <code>h</code> option is added by the prompt and shouldn’t be defined by the user.</p>

<p>See <code>examples/expand.js</code> for a running example.</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/expand-prompt-1.png" alt="Expand prompt closed" />
<img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/expand-prompt-2.png" alt="Expand prompt expanded" /></p>

<hr />

<h4>Checkbox - <code>{ type: "checkbox" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>, <code>choices</code>[, <code>filter</code>, <code>validate</code>, <code>default</code>] properties. <code>default</code> is expected to be an Array of the checked choices value.</p>

<p>Choices marked as <code>{ checked: true }</code> will be checked by default.</p>

<p>Choices whose property <code>disabled</code> is truthy will be unselectable. If <code>disabled</code> is a string, then the string will be outputted next to the disabled choice, otherwise it’ll default to <code>"Disabled"</code>. The <code>disabled</code> property can also be a synchronous function receiving the current answers as argument and returning a boolean or a string.</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/checkbox-prompt.png" alt="Checkbox prompt" /></p>

<hr />

<h4>Confirm - <code>{ type: "confirm" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>[, <code>default</code>] properties. <code>default</code> is expected to be a boolean if used.</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/confirm-prompt.png" alt="Confirm prompt" /></p>

<hr />

<h4>Input - <code>{ type: "input" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>[, <code>default</code>, <code>filter</code>, <code>validate</code>] properties.</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/input-prompt.png" alt="Input prompt" /></p>

<hr />

<h4>Password - <code>{ type: "password" }</code></h4>

<p>Take <code>type</code>, <code>name</code>, <code>message</code>[, <code>default</code>, <code>filter</code>, <code>validate</code>] properties.</p>

<p><img src="https://dl.dropboxusercontent.com/u/59696254/inquirer/password-prompt.png" alt="Password prompt" /></p>

<h2>User Interfaces and layouts</h2>

<p>Along with the prompts, Inquirer offers some basic text UI.</p>

<h4>Bottom Bar - <code>inquirer.ui.BottomBar</code></h4>

<p>This UI present a fixed text at the bottom of a free text zone. This is useful to keep a message to the bottom of the screen while outputting command outputs on the higher section.</p>

<p>```javascript
var ui = new inquirer.ui.BottomBar();</p>

<p>// pipe a Stream to the log zone
outputStream.pipe( ui.log );</p>

<p>// Or simply write output
ui.log.write(“something just happened.”);
ui.log.write(“Almost over, standby!”);</p>

<p>// During processing, update the bottom bar content to display a loader
// or output a progress bar, etc
ui.updateBottomBar(“new bottom bar content”);
```</p>

<h4>Prompt - <code>inquirer.ui.Prompt</code></h4>

<p>This is UI layout used to run prompt. This layout is returned by <code>inquirer.prompt</code> and you should probably always use <code>inquirer.prompt</code> to interface with this UI.</p>

<h2>Reactive interface</h2>

<p>Internally, Inquirer uses the <a href="https://github.com/Reactive-Extensions/RxJS">JS reactive extension</a> to handle events and async flows.</p>

<p>This mean you can take advantage of this feature to provide more advanced flows. For example, you can dynamically add questions to be asked:</p>

<p>```js
var prompts = Rx.Observable.create(function( obs ) {
  obs.onNext({ /* question… <em>/ });
  setTimeout(function () {
    obs.onNext({ /</em> question… */ });
    obs.onCompleted();
  });
});</p>

<p>inquirer.prompt(prompts);
```</p>

<p>And using the <code>process</code> property, you have access to more fine grained callbacks:</p>

<p><code>js
inquirer.prompt(prompts).process.subscribe(
  onEachAnswer,
  onError,
  onComplete
);
</code></p>

<h2>Support (OS Terminals)</h2>

<p>You should expect mostly good support for the CLI below. This does not mean we won’t
look at issues found on other command line - feel free to report any!</p>

<ul>
  <li><strong>Mac OS</strong>:
    <ul>
      <li>Terminal.app</li>
      <li>iTerm</li>
    </ul>
  </li>
  <li><strong>Windows</strong>:
    <ul>
      <li>cmd.exe</li>
      <li>Powershell</li>
      <li>Cygwin</li>
    </ul>
  </li>
  <li><strong>Linux (Ubuntu, openSUSE, Arch Linux, etc)</strong>:
    <ul>
      <li>gnome-terminal (Terminal GNOME)</li>
      <li>konsole</li>
    </ul>
  </li>
</ul>

<h2>News on the march (Release notes)</h2>

<p>Please refer to the <a href="https://github.com/SBoudrias/Inquirer.js/releases">Github releases section for the changelog</a></p>

<h2>Contributing</h2>

<p><strong>Style Guide</strong>
Please brief yourself on <a href="https://github.com/rwldrn/idiomatic.js">Idiomatic.js</a> style guide with two space indent</p>

<p><strong>Unit test</strong>
Unit test are written in <a href="https://mochajs.org/">Mocha</a>. Please add a unit test for every new feature or bug fix. <code>npm test</code> to run the test suite.</p>

<p><strong>Documentation</strong>
Add documentation for every API change. Feel free to send corrections
or better docs!</p>

<p><strong>Pull Requests</strong>
Send <em>fixes</em> PR on the <code>master</code> branch. Any new features should be send on the <code>wip</code>branch.</p>

<p>We’re looking to offer good support for multiple prompts and environments. If you want to
help, we’d like to keep a list of testers for each terminal/OS so we can contact you and
get feedback before release. Let us know if you want to be added to the list (just tweet
to @vaxilart) or just add your name to <a href="https://github.com/SBoudrias/Inquirer.js/wiki/Testers">the wiki</a></p>

<h2>License</h2>

<p>Copyright (c) 2015 Simon Boudrias (twitter: @vaxilart)
Licensed under the MIT license.</p>