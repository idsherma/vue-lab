<p>[![npm][npm]][npm-url]
[![node][node]][node-url]
[![deps][deps]][deps-url]
[![tests][tests]][tests-url]
[![coverage][cover]][cover-url]
[![chat][chat]][chat-url]</p>

<div align="center">
  <img width="200" height="200" src="https://cdn.rawgit.com/webpack-contrib/extract-text-webpack-plugin/574e3200/logo.svg" />
  <a href="https://github.com/webpack/webpack">
    <img width="200" height="200" src="https://webpack.js.org/assets/icon-square-big.svg" />
  </a>
  <h1>Extract Text Plugin</h1>
  <p>Extract text from a bundle, or bundles, into a separate file.</p>
</div>

<h2 align="center">Install</h2>

<p><code>bash
# for webpack 3
npm install --save-dev extract-text-webpack-plugin
# for webpack 2
npm install --save-dev extract-text-webpack-plugin@2.1.2
# for webpack 1
npm install --save-dev extract-text-webpack-plugin@1.0.1
</code></p>

<h2 align="center">Usage</h2>

<blockquote>
  <p>:warning: For webpack v1, see <a href="https://github.com/webpack/extract-text-webpack-plugin/blob/webpack-1/README.md">the README in the webpack-1 branch</a>.</p>
</blockquote>

<p>```js
const ExtractTextPlugin = require(“extract-text-webpack-plugin”);</p>

<p>module.exports = {
  module: {
    rules: [
      {
        test: /.css$/,
        use: ExtractTextPlugin.extract({
          fallback: “style-loader”,
          use: “css-loader”
        })
      }
    ]
  },
  plugins: [
    new ExtractTextPlugin(“styles.css”),
  ]
}
```</p>

<p>It moves all the required <code>*.css</code> modules in entry chunks into a separate CSS file. So your styles are no longer inlined into the JS bundle, but in a separate CSS file (<code>styles.css</code>). If your total stylesheet volume is big, it will be faster because the CSS bundle is loaded in parallel to the JS bundle.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Advantages</th>
      <th style="text-align: left">Caveats</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Fewer style tags (older IE has a limit)</td>
      <td style="text-align: left">Additional HTTP request</td>
    </tr>
    <tr>
      <td style="text-align: left">CSS SourceMap (with <code>devtool: "source-map"</code> and <code>extract-text-webpack-plugin?sourceMap</code>)</td>
      <td style="text-align: left">Longer compilation time</td>
    </tr>
    <tr>
      <td style="text-align: left">CSS requested in parallel</td>
      <td style="text-align: left">No runtime public path modification</td>
    </tr>
    <tr>
      <td style="text-align: left">CSS cached separate</td>
      <td style="text-align: left">No Hot Module Replacement</td>
    </tr>
    <tr>
      <td style="text-align: left">Faster runtime (less code and DOM operations)</td>
      <td style="text-align: left">…</td>
    </tr>
  </tbody>
</table>

<h2 align="center">Options</h2>

<p><code>js
new ExtractTextPlugin(options: filename | object)
</code></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Name</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong><code>id</code></strong></td>
      <td style="text-align: center"><code>{String}</code></td>
      <td style="text-align: left">Unique ident for this plugin instance. (For advanced usage only, by default automatically generated)</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>filename</code></strong></td>
      <td style="text-align: center"><code>{String\|Function}</code></td>
      <td style="text-align: left">Name of the result file. May contain <code>[name]</code>, <code>[id]</code> and <code>[contenthash]</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>allChunks</code></strong></td>
      <td style="text-align: center"><code>{Boolean}</code></td>
      <td style="text-align: left">Extract from all additional chunks too (by default it extracts only from the initial chunk(s))<br />When using <code>CommonsChunkPlugin</code> and there are extracted chunks (from <code>ExtractTextPlugin.extract</code>) in the commons chunk, <code>allChunks</code> <strong>must</strong> be set to <code>true</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>disable</code></strong></td>
      <td style="text-align: center"><code>{Boolean}</code></td>
      <td style="text-align: left">Disables the plugin</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>ignoreOrder</code></strong></td>
      <td style="text-align: center"><code>{Boolean}</code></td>
      <td style="text-align: left">Disables order check (useful for CSS Modules!), <code>false</code> by default</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code>[name]</code> name of the chunk</li>
  <li><code>[id]</code> number of the chunk</li>
  <li><code>[contenthash]</code> hash of the content of the extracted file</li>
  <li><code>[<hashType>:contenthash:<digestType>:<length>]</code> optionally you can configure
    <ul>
      <li>other <code>hashType</code>s, e.g. <code>sha1</code>, <code>md5</code>, <code>sha256</code>, <code>sha512</code></li>
      <li>other <code>digestType</code>s, e.g. <code>hex</code>, <code>base26</code>, <code>base32</code>, <code>base36</code>, <code>base49</code>, <code>base52</code>, <code>base58</code>, <code>base62</code>, <code>base64</code></li>
      <li>and <code>length</code>, the length of the hash in chars</li>
    </ul>
  </li>
</ul>

<blockquote>
  <p>:warning: <code>ExtractTextPlugin</code> generates a file <strong>per entry</strong>, so you must use <code>[name]</code>, <code>[id]</code> or <code>[contenthash]</code> when using multiple entries.</p>
</blockquote>

<h4><code>#extract</code></h4>

<p><code>js
ExtractTextPlugin.extract(options: loader | object)
</code></p>

<p>Creates an extracting loader from an existing loader. Supports loaders of type <code>{ loader: [name]-loader -> {String}, options: {} -> {Object} }</code>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Name</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong><code>options.use</code></strong></td>
      <td style="text-align: center"><code>{String}</code>/<code>{Array}</code>/<code>{Object}</code></td>
      <td style="text-align: left">Loader(s) that should be used for converting the resource to a CSS exporting module <em>(required)</em></td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>options.fallback</code></strong></td>
      <td style="text-align: center"><code>{String}</code>/<code>{Array}</code>/<code>{Object}</code></td>
      <td style="text-align: left">loader(e.g <code>'style-loader'</code>) that should be used when the CSS is not extracted (i.e. in an additional chunk when <code>allChunks: false</code>)</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong><code>options.publicPath</code></strong></td>
      <td style="text-align: center"><code>{String}</code></td>
      <td style="text-align: left">Override the <code>publicPath</code> setting for this loader</td>
    </tr>
  </tbody>
</table>

<h4>Multiple Instances</h4>

<p>There is also an <code>extract</code> function on the instance. You should use this if you have more than one instance of  <code>ExtractTextPlugin</code>.</p>

<p>```js
const ExtractTextPlugin = require(‘extract-text-webpack-plugin’);</p>

<p>// Create multiple instances
const extractCSS = new ExtractTextPlugin(‘stylesheets/[name]-one.css’);
const extractLESS = new ExtractTextPlugin(‘stylesheets/[name]-two.css’);</p>

<p>module.exports = {
  module: {
    rules: [
      {
        test: /.css$/,
        use: extractCSS.extract([ ‘css-loader’, ‘postcss-loader’ ])
      },
      {
        test: /.less$/i,
        use: extractLESS.extract([ ‘css-loader’, ‘less-loader’ ])
      },
    ]
  },
  plugins: [
    extractCSS,
    extractLESS
  ]
};
```</p>

<h3>Extracting Sass or LESS</h3>

<p>The configuration is the same, switch out <code>sass-loader</code> for <code>less-loader</code> when necessary.</p>

<p>```js
const ExtractTextPlugin = require(‘extract-text-webpack-plugin’);</p>

<p>module.exports = {
  module: {
    rules: [
      {
        test: /.scss$/,
        use: ExtractTextPlugin.extract({
          fallback: ‘style-loader’,
          //resolve-url-loader may be chained before sass-loader if necessary
          use: [‘css-loader’, ‘sass-loader’]
        })
      }
    ]
  },
  plugins: [
    new ExtractTextPlugin(‘style.css’)
    //if you want to pass in options, you can do so:
    //new ExtractTextPlugin({
    //  filename: ‘style.css’
    //})
  ]
}
```</p>

<h3>Modify filename</h3>

<p><code>filename</code> parameter could be <code>Function</code>. It passes <code>getPath</code> to process the format like <code>css/[name].css</code> and returns the real file name, <code>css/js/a.css</code>. You can replace <code>css/js</code> with <code>css</code> then you will get the new path <code>css/a.css</code>.</p>

<p><code>js
entry: {
  'js/a': "./a"
},
plugins: [
  new ExtractTextPlugin({
    filename:  (getPath) => {
      return getPath('css/[name].css').replace('css/js', 'css');
    },
    allChunks: true
  })
]
</code></p>

<h2 align="center">Maintainers</h2>

<table>
  <tbody>
    <tr>
      <td align="center">
        <img width="150" height="150" src="https://avatars3.githubusercontent.com/u/166921?v=3&s=150" />
        
        <a href="https://github.com/bebraw">Juho Vepsäläinen</a>
      </td>
      <td align="center">
        <img width="150" height="150" src="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150" />
        
        <a href="https://github.com/d3viant0ne">Joshua Wiens</a>
      </td>
      <td align="center">
        <img width="150" height="150" src="https://avatars3.githubusercontent.com/u/533616?v=3&s=150" />
        
        <a href="https://github.com/SpaceK33z">Kees Kluskens</a>
      </td>
      <td align="center">
        <img width="150" height="150" src="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150" />
        
        <a href="https://github.com/TheLarkInn">Sean Larkin</a>
      </td>
    </tr>
  <tbody>



[npm]: https://img.shields.io/npm/v/extract-text-webpack-plugin.svg
[npm-url]: https://npmjs.com/package/extract-text-webpack-plugin

[node]: https://img.shields.io/node/v/extract-text-webpack-plugin.svg
[node-url]: https://nodejs.org

[deps]: https://david-dm.org/webpack-contrib/extract-text-webpack-plugin.svg
[deps-url]: https://david-dm.org/webpack-contrib/extract-text-webpack-plugin

[tests]: http://img.shields.io/travis/webpack-contrib/extract-text-webpack-plugin.svg
[tests-url]: https://travis-ci.org/webpack-contrib/extract-text-webpack-plugin

[cover]: https://coveralls.io/repos/github/webpack-contrib/extract-text-webpack-plugin/badge.svg
[cover-url]: https://coveralls.io/github/webpack-contrib/extract-text-webpack-plugin

[chat]: https://badges.gitter.im/webpack/webpack.svg
[chat-url]: https://gitter.im/webpack/webpack
</tbody></tbody></table>