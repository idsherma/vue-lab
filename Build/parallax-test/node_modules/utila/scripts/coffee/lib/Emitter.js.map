{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "/parallax-test/node_modules/utila/scripts/coffee/lib/Emitter.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "array = require './array'\r\n\r\nmodule.exports = class Emitter\r\n\r\n\tconstructor: ->\r\n\r\n\t\t@_listeners = {}\r\n\r\n\t\t@_listenersForAnyEvent = []\r\n\r\n\t\t@_disabledEmitters = {}\r\n\r\n\ton: (eventName, listener) ->\r\n\r\n\t\tunless @_listeners[eventName]?\r\n\r\n\t\t\t@_listeners[eventName] = []\r\n\r\n\t\t@_listeners[eventName].push listener\r\n\r\n\t\t@\r\n\r\n\tonce: (eventName, listener) ->\r\n\r\n\t\tran = no\r\n\r\n\t\tcb = =>\r\n\r\n\t\t\treturn if ran\r\n\r\n\t\t\tran = yes\r\n\r\n\t\t\tdo listener\r\n\r\n\t\t\tsetTimeout =>\r\n\r\n\t\t\t\t@removeEvent eventName, cb\r\n\r\n\t\t\t, 0\r\n\r\n\t\t@on eventName, cb\r\n\r\n\t\t@\r\n\r\n\tonAnyEvent: (listener) ->\r\n\r\n\t\t@_listenersForAnyEvent.push listener\r\n\r\n\t\t@\r\n\r\n\tremoveEvent: (eventName, listener) ->\r\n\r\n\t\treturn @ unless @_listeners[eventName]?\r\n\r\n\t\tarray.pluckOneItem @_listeners[eventName], listener\r\n\r\n\t\t@\r\n\r\n\tremoveListeners: (eventName) ->\r\n\r\n\t\treturn @ unless @_listeners[eventName]?\r\n\r\n\t\t@_listeners[eventName].length = 0\r\n\r\n\t\t@\r\n\r\n\tremoveAllListeners: ->\r\n\r\n\t\tfor name, listeners of @_listeners\r\n\r\n\t\t\tlisteners.length = 0\r\n\r\n\t\t@\r\n\r\n\t_emit: (eventName, data) ->\r\n\r\n\t\tfor listener in @_listenersForAnyEvent\r\n\r\n\t\t\tlistener.call @, data, eventName\r\n\r\n\t\treturn unless @_listeners[eventName]?\r\n\r\n\t\tfor listener in @_listeners[eventName]\r\n\r\n\t\t\tlistener.call @, data\r\n\r\n\t\treturn\r\n\r\n\t# this makes sure that all the calls to this class's method 'fnName'\r\n\t# are throttled\r\n\t_throttleEmitterMethod: (fnName, time = 1000) ->\r\n\r\n\t\toriginalFn = @[fnName]\r\n\r\n\t\tif typeof originalFn isnt 'function'\r\n\r\n\t\t\tthrow Error \"this class does not have a method called '#{fnName}'\"\r\n\r\n\t\tlastCallArgs = null\r\n\t\tpending = no\r\n\t\ttimer = null\r\n\r\n\t\t@[fnName] = =>\r\n\r\n\t\t\tlastCallArgs = arguments\r\n\r\n\t\t\tdo pend\r\n\r\n\t\tpend = =>\r\n\r\n\t\t\tif pending\r\n\r\n\t\t\t\tclearTimeout timer\r\n\r\n\t\t\ttimer = setTimeout runIt, time\r\n\r\n\t\t\tpending = yes\r\n\r\n\t\trunIt = =>\r\n\r\n\t\t\tpending = no\r\n\r\n\t\t\toriginalFn.apply @, lastCallArgs\r\n\r\n\t_disableEmitter: (fnName) ->\r\n\r\n\t\tif @_disabledEmitters[fnName]?\r\n\r\n\t\t\tthrow Error \"#{fnName} is already a disabled emitter\"\r\n\r\n\t\t@_disabledEmitters[fnName] = @[fnName]\r\n\r\n\t\t@[fnName] = ->\r\n\r\n\t_enableEmitter: (fnName) ->\r\n\r\n\t\tfn = @_disabledEmitters[fnName]\r\n\r\n\t\tunless fn?\r\n\r\n\t\t\tthrow Error \"#{fnName} is not a disabled emitter\"\r\n\r\n\t\t@[fnName] = fn\r\n\r\n\t\tdelete @_disabledEmitters[fnName]"
  ]
}