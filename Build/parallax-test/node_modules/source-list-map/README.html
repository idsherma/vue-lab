<h1>source-list-map</h1>

<h2>API</h2>

<h3>Example</h3>

<p>``` js
var SourceListMap = require(“source-list-map”).SourceListMap;</p>

<p>// Create a new map
var map = new SourceListMap();</p>

<p>// Add generated code that is map line to line to some soure
map.add(“Generated\ncode1\n”, “source-code.js”, “Orginal\nsource”);</p>

<p>// Add generated code that isn’t mapped
map.add(“Generated\ncode2\n”);</p>

<p>// Get SourceMap and generated source
map.toStringWithSourceMap({ file: “generated-code.js” });
// {
//   source: ‘Generated\ncode1\nGenerated\ncode2\n’,
//   map: {
//      version: 3,
//      file: ‘generated-code.js’,
//      sources: [ ‘source-code.js’ ],
//      sourcesContent: [ ‘Orginal\nsource’ ],
//      mappings: ‘AAAA;AACA;;;’
//    }
// }</p>

<p>// Convert existing SourceMap into SourceListMap
// (Only the first mapping per line is preserved)
var fromStringWithSourceMap = require(“source-list-map”).fromStringWithSourceMap;
var map = fromStringWithSourceMap(“Generated\ncode”, { version: 3, … });</p>

<p>```</p>

<h3><code>new SourceListMap()</code></h3>

<h3><code>SourceListMap.prototype.add</code></h3>

<p><code>js
SourceListMap.prototype.add(generatedCode: string)
SourceListMap.prototype.add(generatedCode: string, source: string, originalSource: string)
SourceListMap.prototype.add(sourceListMap: SourceListMap)
</code></p>

<p>Append some stuff.</p>

<h3><code>SourceListMap.prototype.prepend</code></h3>

<p><code>js
SourceListMap.prototype.prepend(generatedCode: string)
SourceListMap.prototype.prepend(generatedCode: string, source: string, originalSource: string)
SourceListMap.prototype.prepend(sourceListMap: SourceListMap)
</code></p>

<p>Prepend some stuff.</p>

<h3><code>SourceListMap.prototype.toString()</code></h3>

<p>Get generated code.</p>

<h3><code>SourceListMap.prototype.toStringWithSourceMap</code></h3>

<p><code>js
SourceListMap.prototype.toStringWithSourceMap(options: object)
</code></p>

<p>Get generated code and SourceMap. <code>options</code> can contains <code>file</code> property which defines the <code>file</code> property of the SourceMap.</p>

<h3><code>SourceListMap.prototype.mapGeneratedCode</code></h3>

<p><code>js
SourceListMap.prototype.mapGeneratedCode(fn: function) : SourceListMap
</code></p>

<p>Applies <code>fn</code> to each generated code block (per line). The returned value is set as new generated code. Returns a new SourceListMap.</p>

<p>Removing and adding lines is supported. The SourceMap complexity will increase when doing this.</p>

<h2>Test</h2>

<p><a href="https://travis-ci.org/webpack/source-list-map"><img src="https://travis-ci.org/webpack/source-list-map.svg" alt="Build Status" /></a></p>

<h2>License</h2>

<p>Copyright (c) 2017 JS Foundation</p>

<p>MIT (http://www.opensource.org/licenses/mit-license.php)</p>