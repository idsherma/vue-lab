<h1>generate-function</h1>

<p>Module that helps you write generated functions in Node</p>

<p><code>
npm install generate-function
</code></p>

<p><a href="http://travis-ci.org/mafintosh/generate-function"><img src="http://img.shields.io/travis/mafintosh/generate-function.svg?style=flat" alt="build status" /></a></p>

<h2>Disclamer</h2>

<p>Writing code that generates code is hard.
You should only use this if you really, really, really need this for performance reasons (like schema validators / parsers etc).</p>

<h2>Usage</h2>

<p>``` js
var genfun = require(‘generate-function’)</p>

<p>var addNumber = function(val) {
  var fn = genfun()
    (‘function add(n) {‘)
      (‘return n + %d’, val) // supports format strings to insert values
    (‘}’)</p>

<p>return fn.toFunction() // will compile the function
}</p>

<p>var add2 = addNumber(2)</p>

<p>console.log(‘1+2=’, add2(1))
console.log(add2.toString()) // prints the generated function
```</p>

<p>If you need to close over variables in your generated function pass them to <code>toFunction(scope)</code></p>

<p>``` js
var multiply = function(a, b) {
  return a * b
}</p>

<p>var addAndMultiplyNumber = function(val) {
  var fn = genfun()
    (‘function(n) {‘)
      (‘if (typeof n !== “number”) {‘) // ending a line with { will indent the source
        (‘throw new Error(“argument should be a number”)’)
      (‘}’)
      (‘var result = multiply(%d, n+%d)’, val, val)
      (‘return result’)
    (‘}’)</p>

<p>// use fn.toString() if you want to see the generated source</p>

<p>return fn.toFunction({
    multiply: multiply
  })
}</p>

<p>var addAndMultiply2 = addAndMultiplyNumber(2)</p>

<p>console.log(‘(3 + 2) * 2 =’, addAndMultiply2(3))
```</p>

<h2>Related</h2>

<p>See <a href="https://github.com/mafintosh/generate-object-property">generate-object-property</a> if you need to safely generate code that
can be used to reference an object property</p>

<h2>License</h2>

<p>MIT</p>