<h1>loud-rejection <a href="https://travis-ci.org/sindresorhus/loud-rejection"><img src="https://travis-ci.org/sindresorhus/loud-rejection.svg?branch=master" alt="Build Status" /></a> <a href="https://coveralls.io/github/sindresorhus/loud-rejection?branch=master"><img src="https://coveralls.io/repos/github/sindresorhus/loud-rejection/badge.svg?branch=master" alt="Coverage Status" /></a></h1>

<blockquote>
  <p>Make unhandled promise rejections fail loudly instead of the default <a href="https://gist.github.com/benjamingr/0237932cee84712951a2">silent fail</a></p>
</blockquote>

<p>By default, promises fail silently if you don’t attach a <code>.catch()</code> handler to them.</p>

<p>Use this in top-level things like tests, CLI tools, apps, etc, <strong>but not in reusable modules.</strong><br />
Not needed in the browser as unhandled promises are shown in the console.</p>

<h2>Install</h2>

<p><code>
$ npm install --save loud-rejection
</code></p>

<h2>Usage</h2>

<p>```js
const loudRejection = require(‘loud-rejection’);
const promiseFn = require(‘promise-fn’);</p>

<p>// Install the unhandledRejection listeners
loudRejection();</p>

<p>promiseFn();
```</p>

<p>Without this module it’s more verbose and you might even miss some that will fail silently:</p>

<p>```js
const promiseFn = require(‘promise-fn’);</p>

<p>function error(err) {
	console.error(err.stack);
	process.exit(1);
}</p>

<p>promiseFn().catch(error);
```</p>

<h3>Register script</h3>

<p>Alternatively to the above, you may simply require <code>loud-rejection/register</code> and the unhandledRejection listener will be automagically installed for you.</p>

<p>This is handy for ES2015 imports:</p>

<p><code>js
import 'loud-rejection/register';
</code></p>

<h2>API</h2>

<h3>loudRejection([log])</h3>

<h4>log</h4>

<p>Type: <code>Function</code><br />
Default: <code>console.error</code></p>

<p>Custom logging function to print the rejected promise. Receives the error stack.</p>

<h2>License</h2>

<p>MIT © <a href="https://sindresorhus.com">Sindre Sorhus</a></p>