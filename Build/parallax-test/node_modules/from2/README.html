<h1>from2 <a href="https://flattr.com/submit/auto?user_id=hughskennedy&url=http://github.com/hughsk/from2&title=from2&description=hughsk/from2%20on%20GitHub&language=en_GB&tags=flattr,github,javascript&category=software"><img src="https://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this!" /></a><a href="http://github.com/hughsk/stability-badges"><img src="http://hughsk.github.io/stability-badges/dist/experimental.svg" alt="experimental" /></a></h1>

<p><code>from2</code> is a high-level module for creating readable streams that properly handle backpressure.</p>

<p>Convience wrapper for
<a href="http://github.com/isaacs/readable-stream">readable-stream</a>’s <code>ReadableStream</code>
base class, with an API lifted from
<a href="http://github.com/dominictarr/from">from</a> and
<a href="http://github.com/rvagg/through2">through2</a>.</p>

<h2>Usage</h2>

<p><a href="https://nodei.co/npm/from2"><img src="https://nodei.co/npm/from2.png?mini=true" alt="from2" /></a></p>

<h3><code>stream = from2([opts], read)</code></h3>

<p>Where <code>opts</code> are the options to pass on to the <code>ReadableStream</code> constructor,
and <code>read(size, next)</code> is called when data is requested from the stream.</p>

<ul>
  <li><code>size</code> is the recommended amount of data (in bytes) to retrieve.</li>
  <li><code>next(err)</code> should be called when you’re ready to emit more data.</li>
</ul>

<p>For example, here’s a readable stream that emits the contents of a given
string:</p>

<p>``` javascript
var from = require(‘from2’)</p>

<p>function fromString(string) {
  return from(function(size, next) {
    // if there’s no more content
    // left in the string, close the stream.
    if (string.length <= 0) return next(null, null)</p>

<pre><code>// Pull in a new chunk of text,
// removing it from the string.
var chunk = string.slice(0, size)
string = string.slice(size)

// Emit "chunk" from the stream.
next(null, chunk)   }) }
</code></pre>

<p>// pipe “hello world” out
// to stdout.
fromString(‘hello world’).pipe(process.stdout)
```</p>

<h3><code>stream = from2.obj([opts], read)</code></h3>

<p>Shorthand for <code>from2({ objectMode: true }, read)</code>.</p>

<h3><code>createStream = from2.ctor([opts], read)</code></h3>

<p>If you’re creating similar streams in quick succession you can improve
performance by generating a stream <strong>constructor</strong> that you can reuse instead
of creating one-off streams on each call.</p>

<p>Takes the same options as <code>from2</code>, instead returning a constructor which you
can use to create new streams.</p>

<h3>See Also</h3>

<ul>
  <li><a href="https://github.com/binocarlos/from2-array">from2-array</a> - Create a from2 stream based on an array of source values.</li>
  <li><a href="https://github.com/yoshuawuyts/from2-string">from2-string</a> - Create a stream from a string. Sugary wrapper around from2.</li>
</ul>

<h2>License</h2>

<p>MIT. See <a href="http://github.com/hughsk/from2/blob/master/LICENSE.md">LICENSE.md</a> for details.</p>