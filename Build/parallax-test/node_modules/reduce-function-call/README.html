<h1>reduce-function-call <a href="https://travis-ci.org/MoOx/reduce-function-call"><img src="https://travis-ci.org/MoOx/reduce-function-call.png" alt="Build Status" /></a></h1>

<blockquote>
  <p>Reduce function calls in a string, using a callback</p>
</blockquote>

<h2>Installation</h2>

<p><code>bash
npm install reduce-function-call
</code></p>

<h2>Usage</h2>

<p>```js
var reduceFunctionCall = require(“reduce-function-call”)</p>

<p>reduceFunctionCall(“foo(1)”, “foo”, function(body) {
  // body === “1”
  return parseInt(body, 10) + 1
})
// “2”</p>

<p>var nothingOrUpper = function(body, functionIdentifier) {
  // ignore empty value
  if (body === “”) {
    return functionIdentifier + “()”
  }</p>

<p>return body.toUpperCase()
}</p>

<p>reduceFunctionCall(“bar()”, “bar”, nothingOrUpper)
// “bar()”</p>

<p>reduceFunctionCall(“upper(baz)”, “upper”, nothingOrUpper)
// “BAZ”</p>

<p>reduceFunctionCall(“math(math(2 + 2) * 4 + math(2 + 2)) and other things”, “math”, function(body, functionIdentifier, call) {
  try {
    return eval(body)
  }
  catch (e) {
    return call
  }
})
// “20 and other things”</p>

<p>reduceFunctionCall(“sha bla blah() blaa bla() abla() aabla() blaaa()”, /\b([a-z]?bla[a-z]?)(/, function(body, functionIdentifier) {
  if (functionIdentifier === “bla”) {
    return “ABRACADABRA”
  }
  return functionIdentifier.replace(“bla”, “!”)
}
// “sha bla !h blaa ABRACADABRA a! aabla() blaaa()”
```</p>

<p>See <a href="test/index.js">unit tests</a> for others examples.</p>

<h2>Contributing</h2>

<p>Work on a branch, install dev-dependencies, respect coding style & run tests before submitting a bug fix or a feature.</p>

<p><code>bash
git clone https://github.com/MoOx/reduce-function-call.git
git checkout -b patch-1
npm install
npm test
</code></p>

<h2><a href="CHANGELOG.md">Changelog</a></h2>

<h2><a href="LICENSE-MIT">License</a></h2>