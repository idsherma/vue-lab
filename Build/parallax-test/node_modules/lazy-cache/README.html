<h1>lazy-cache <a href="https://www.npmjs.com/package/lazy-cache"><img src="https://img.shields.io/npm/v/lazy-cache.svg?style=flat" alt="NPM version" /></a> <a href="https://npmjs.org/package/lazy-cache"><img src="https://img.shields.io/npm/dm/lazy-cache.svg?style=flat" alt="NPM downloads" /></a> <a href="https://travis-ci.org/jonschlinkert/lazy-cache"><img src="https://img.shields.io/travis/jonschlinkert/lazy-cache.svg?style=flat" alt="Build Status" /></a></h1>

<blockquote>
  <p>Cache requires to be lazy-loaded when needed.</p>
</blockquote>

<h2>Install</h2>

<p>Install with <a href="https://www.npmjs.com/">npm</a>:</p>

<p><code>sh
$ npm install lazy-cache --save
</code></p>

<p>If you use webpack and are experiencing issues, try using <a href="https://github.com/doowb/unlazy-loader">unlazy-loader</a>, a webpack loader that fixes the bug that prevents webpack from working with native javascript getters.</p>

<h2>Usage</h2>

<p><code>js
var utils = require('lazy-cache')(require);
</code></p>

<p><strong>Use as a property on <code>lazy</code></strong></p>

<p>The module is also added as a property to the <code>lazy</code> function
so it can be called without having to call a function first.</p>

<p>```js
var utils = require(‘lazy-cache’)(require);</p>

<p>// <code>npm install glob</code>
utils(‘glob’);</p>

<p>// glob sync
console.log(utils.glob.sync(‘*.js’));</p>

<p>// glob async
utils.glob(‘*.js’, function (err, files) {
  console.log(files);
});
```</p>

<p><strong>Use as a function</strong></p>

<p>```js
var utils = require(‘lazy-cache’)(require);
var glob = utils(‘glob’);</p>

<p>// <code>glob</code> is a now a function that may be called when needed
glob().sync(‘foo/*.js’);
```</p>

<h2>Aliases</h2>

<p>An alias may be passed as the second argument if you don’t want to use the automatically camel-cased variable name.</p>

<p><strong>Example</strong></p>

<p>```js
var utils = require(‘lazy-cache’)(require);</p>

<p>// alias <code>ansi-yellow</code> as <code>yellow</code>
utils(‘ansi-yellow’, ‘yellow’);
console.log(utils.yellow(‘foo’));
```</p>

<h2>Browserify usage</h2>

<p><strong>Example</strong></p>

<p>```js
var utils = require(‘lazy-cache’)(require);
// temporarily re-assign <code>require</code> to trick browserify
var fn = require;
require = utils;
// list module dependencies (here, <code>require</code> is actually <code>lazy-cache</code>)
require(‘glob’);
require = fn; // restore the native <code>require</code> function</p>

<p>/**
 * Now you can use glob with the <code>utils.glob</code> variable
 */</p>

<p>// sync
console.log(utils.glob.sync(‘*.js’));</p>

<p>// async
utils.glob(‘*.js’, function (err, files) {
  console.log(files.join(‘\n’));
});
```</p>

<h2>Kill switch</h2>

<p>In certain rare edge cases it may be necessary to unlazy all lazy-cached dependencies (5 reported cases after ~30 million downloads).</p>

<p>To force lazy-cache to immediately invoke all dependencies, do:</p>

<p><code>js
process.env.UNLAZY = true;
</code></p>

<h2>Related projects</h2>

<p>You might also be interested in these projects:</p>

<table>
  <tbody>
    <tr>
      <td><a href="https://www.npmjs.com/package/lint-deps">lint-deps</a>: CLI tool that tells you when dependencies are missing from package.json and offers you a… <a href="https://www.npmjs.com/package/lint-deps">more</a></td>
      <td><a href="https://github.com/jonschlinkert/lint-deps">homepage</a></td>
    </tr>
  </tbody>
</table>

<h2>Contributing</h2>

<p>Pull requests and stars are always welcome. For bugs and feature requests, <a href="https://github.com/jonschlinkert/lazy-cache/issues/new">please create an issue</a>.</p>

<h2>Building docs</h2>

<p>Generate readme and API documentation with <a href="https://github.com/verbose/verb">verb</a>:</p>

<p><code>sh
$ npm install verb && npm run docs
</code></p>

<p>Or, if <a href="https://github.com/verbose/verb">verb</a> is installed globally:</p>

<p><code>sh
$ verb
</code></p>

<h2>Running tests</h2>

<p>Install dev dependencies:</p>

<p><code>sh
$ npm install -d && npm test
</code></p>

<h2>Author</h2>

<p><strong>Jon Schlinkert</strong></p>

<ul>
  <li><a href="https://github.com/jonschlinkert">github/jonschlinkert</a></li>
  <li><a href="http://twitter.com/jonschlinkert">twitter/jonschlinkert</a></li>
</ul>

<h2>License</h2>

<p>Copyright © 2016, <a href="https://github.com/jonschlinkert">Jon Schlinkert</a>.
Released under the <a href="https://github.com/jonschlinkert/lazy-cache/blob/master/LICENSE">MIT license</a>.</p>

<hr />

<p><em>This file was generated by <a href="https://github.com/verbose/verb">verb</a>, v0.9.0, on April 22, 2016.</em></p>