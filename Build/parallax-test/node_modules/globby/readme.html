<h1>globby <a href="https://travis-ci.org/sindresorhus/globby"><img src="https://travis-ci.org/sindresorhus/globby.svg?branch=master" alt="Build Status" /></a></h1>

<blockquote>
  <p>User-friendly glob matching</p>
</blockquote>

<p>Based on <a href="https://github.com/isaacs/node-glob"><code>glob</code></a>, but adds a bunch of useful features and a nicer API.</p>

<h2>Features</h2>

<ul>
  <li>Promise API</li>
  <li>Multiple patterns</li>
  <li>Negated patterns: <code>['foo*', '!foobar']</code></li>
  <li>Expands directories: <code>dir</code> → <code>dir/**/*</code></li>
  <li>Supports <code>.gitignore</code></li>
</ul>

<h2>Install</h2>

<p><code>
$ npm install globby
</code></p>

<h2>Usage</h2>

<p><code>
├── unicorn
├── cake
└── rainbow
</code></p>

<p>```js
const globby = require(‘globby’);</p>

<p>(async () => {
	const paths = await globby([‘*’, ‘!cake’]);</p>

<pre><code>console.log(paths);
//=> ['unicorn', 'rainbow'] })(); ```
</code></pre>

<h2>API</h2>

<h3>globby(patterns, [options])</h3>

<p>Returns a <code>Promise<Array></code> of matching paths.</p>

<h4>patterns</h4>

<p>Type: <code>string</code> <code>Array</code></p>

<p>See supported <code>minimatch</code> <a href="https://github.com/isaacs/minimatch#usage">patterns</a>.</p>

<h4>options</h4>

<p>Type: <code>Object</code></p>

<p>See the <a href="https://github.com/isaacs/node-glob#options"><code>node-glob</code> options</a> in addition to the ones below.</p>

<p>One difference is that <code>nodir</code> is <code>true</code> by default here.</p>

<h5>expandDirectories</h5>

<p>Type: <code>boolean</code> <code>Array</code> <code>Object</code><br />
Default: <code>true</code></p>

<p>If set to <code>true</code>, <code>globby</code> will automatically glob directories for you. If you define an <code>Array</code> it will only glob files that matches the patterns inside the <code>Array</code>. You can also define an <code>Object</code> with <code>files</code> and <code>extensions</code> like below:</p>

<p>```js
(async () => {
	const paths = await globby(‘images’, {
		expandDirectories: {
			files: [‘cat’, ‘unicorn’, ‘*.jpg’],
			extensions: [‘png’]
		}
	});</p>

<pre><code>console.log(paths);
//=> ['cat.png', 'unicorn.png', 'cow.jpg', 'rainbow.jpg'] })(); ```
</code></pre>

<p>Note that if you set this option to <code>false</code>, you won’t get back matched directories unless you set <code>nodir: false</code>.</p>

<h5>gitignore</h5>

<p>Type: <code>boolean</code><br />
Default: <code>false</code></p>

<p>Respect ignore patterns in <code>.gitignore</code> files that apply to the globbed files.</p>

<h3>globby.sync(patterns, [options])</h3>

<p>Returns an <code>Array</code> of matching paths.</p>

<h3>globby.generateGlobTasks(patterns, [options])</h3>

<p>Returns an <code>Array<Object></code> in the format <code>{pattern: string, opts: Object}</code>, which can be passed as arguments to <a href="https://github.com/isaacs/node-glob"><code>node-glob</code></a>. This is useful for other globbing-related packages.</p>

<p>Note that you should avoid running the same tasks multiple times as they contain a file system cache. Instead, run this method each time to ensure file system changes are taken into consideration.</p>

<h3>globby.hasMagic(patterns, [options])</h3>

<p>Returns a <code>boolean</code> of whether there are any special glob characters in the <code>patterns</code>.</p>

<p>Note that the options affect the results. If <code>noext: true</code> is set, then <code>+(a|b)</code> will not be considered a magic pattern. If the pattern has a brace expansion, like <code>a/{b/c,x/y}</code>, then that is considered magical, unless <code>nobrace: true</code> is set.</p>

<h3>globby.gitignore([options])</h3>

<p>Returns a <code>Promise<(path: string) => boolean></code> indicating wether a given path is ignored via a <code>.gitignore</code> file.</p>

<p>Takes <code>cwd?: string</code> and <code>ignore?: string[]</code> as options. <code>.gitignore</code> files matched by the ignore config are not
used for the resulting filter function.</p>

<p>```js
const {gitignore} = require(‘globby’);</p>

<p>(async () => {
	const isIgnored = await gitignore();
	console.log(isIgnored(‘some/file’));
})();
```</p>

<h3>globby.gitignore.sync([options])</h3>

<p>Returns a <code>(path: string) => boolean</code> indicating wether a given path is ignored via a <code>.gitignore</code> file.</p>

<p>Takes the same options as <code>globby.gitignore</code>.</p>

<h2>Globbing patterns</h2>

<p>Just a quick overview.</p>

<ul>
  <li><code>*</code> matches any number of characters, but not <code>/</code></li>
  <li><code>?</code> matches a single character, but not <code>/</code></li>
  <li><code>**</code> matches any number of characters, including <code>/</code>, as long as it’s the only thing in a path part</li>
  <li><code>{}</code> allows for a comma-separated list of “or” expressions</li>
  <li><code>!</code> at the beginning of a pattern will negate the match</li>
</ul>

<p><a href="https://github.com/sindresorhus/multimatch/blob/master/test/test.js">Various patterns and expected matches.</a></p>

<h2>Related</h2>

<ul>
  <li><a href="https://github.com/sindresorhus/multimatch">multimatch</a> - Match against a list instead of the filesystem</li>
  <li><a href="https://github.com/sindresorhus/matcher">matcher</a> - Simple wildcard matching</li>
  <li><a href="https://github.com/sindresorhus/del">del</a> - Delete files and directories</li>
  <li><a href="https://github.com/sindresorhus/make-dir">make-dir</a> - Make a directory and its parents if needed</li>
</ul>

<h2>License</h2>

<p>MIT © <a href="https://sindresorhus.com">Sindre Sorhus</a></p>